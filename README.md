# ‚ú® Rag-Sber

**Rag-Sber** ‚Äî —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–º–æ—â–Ω–∏–∫ –Ω–∞ –±–∞–∑–µ **LLM —Å RAG**, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π –¥–∞–Ω–Ω—ã–µ —Å [wikivoyage.org](https://wikivoyage.org).  
–ü—Ä–æ–µ–∫—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º LLM.

---

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### üìå –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö (`parser_wikivoyage.ipynb`)
- –°–±–æ—Ä –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ **Wikivoyage**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã `–°—Ç—Ä–∞–Ω–∞/–ì–æ—Ä–æ–¥/–°–µ–∫—Ü–∏—è`
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å —Ä–∞–∑–º–µ—Ç–∫–æ–π –∏ –º–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π

### üìå –í–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (`vector_store.ipynb`)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ **SOTA-—ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ FRIDA** (`ai-forever/FRIDA`)
- –†–∞–∑–±–∏–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —Å —É—á—ë—Ç–æ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±–∞–∑–µ **ChromaDB** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

### üìå –ò—Ç–æ–≥–æ–≤—ã–π –ø–∞–π–ø–ª–∞–π–Ω (`model_eval.ipynb`)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: `extract_location ‚Üí retrieve_documents ‚Üí generate_answer`
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –º–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (—Å—Ç—Ä–∞–Ω–∞/–≥–æ—Ä–æ–¥)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å few-shot –ø—Ä–æ–º–ø—Ç–æ–º
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–µ–π—Å–∞, –µ—Å–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã

### üìå –û—Ü–µ–Ω–∫–∞ —Ä–µ—Ç—Ä–∏–≤–µ—Ä–∞ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (`model_eval.ipynb`)
- –ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ —Ä–µ—Ç—Ä–∏–≤–µ—Ä–∞ —Å –ø–æ–º–æ—â—å—é –º–µ—Ç—Ä–∏–∫ Accuracy, IoU
- –ê–Ω–∞–ª–∏–∑ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ –æ—Ç–≤–µ—Ç–æ–≤ –º–æ–¥–µ–ª–∏ (cosine similarity —Å —ç—Ç–∞–ª–æ–Ω–æ–º)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞—Å—á—ë—Ç–∞ —Å—Ä–µ–¥–Ω–µ–π –±–ª–∏–∑–æ—Å—Ç–∏ –∏ —Ç–æ—á–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π
- –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã —Å —Ä–∞–∑–Ω—ã–º–∏ —à–∞–±–ª–æ–Ω–∞–º–∏ –ø—Ä–æ–º–ø—Ç–æ–≤

---

## üõ†Ô∏è –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

- üìå **–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**
  - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å—Ç—Ä–∞–Ω –∏ –≥–æ—Ä–æ–¥–æ–≤
  - –ü–∞—Ä—Å–∏–Ω–≥ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–æ–≤ (–µ–¥–∞, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –∏ –ø—Ä.)

- üìå **–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã —Å —á–∞–Ω–∫–æ–≤–∞–Ω–∏–µ–º**
  - –ò–∑—É—á–µ–Ω–∏–µ –≤–ª–∏—è–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –∏ –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏—è —á–∞–Ω–∫–æ–≤
  - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π —Ä–∞–∑–±–∏–µ–Ω–∏—è (markdown-aware, –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º –∏ —Ç.–¥.)
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ embedding/perplexity - base –ø–æ–¥—Ö–æ–¥—ã

- üìå **–ú–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏—è —Ä–µ—Ç—Ä–∏–≤–µ—Ä–∞**
  - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≥–∏–±–∫–∏—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤ –ø–æ `country/city/section`
  - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤ –ø–æ–∏—Å–∫–∞ (reranking, hybrid search)

- üìå **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã —Å –ø—Ä–æ–º–ø—Ç–∞–º–∏**
  - –†–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–æ–∫ –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è –º–æ–¥–µ–ª–µ–π

- üìå **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ LLM**
  - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥—Ä—É–≥–∏—Ö –º–æ–¥–µ–ª–µ–π (Saiga, LLaMA, Mistral –∏ –¥—Ä.)
  - –í —Ç–æ–º —á–∏—Å–ª–µ reasoning –¥–∏—Å—Ç–∏–ª–ª—è—Ç–æ–≤ (R1)

- üìå **–¢—é–Ω–∏–Ω–≥ –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**
  - –ü–æ–¥–±–æ—Ä `max_new_tokens`, `temperature`, `top_k`, `top_p` –∏ –¥—Ä.

- üìå **–ù–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏**
  - BLEU, ROUGE, METEOR
  - LLM-base

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
.
‚îú‚îÄ‚îÄ parser_wikivoyage.ipynb       # –ü–∞—Ä—Å–∏–Ω–≥ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ vector_store.ipynb            # –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –±–∞–∑—ã
‚îú‚îÄ‚îÄ model_eval.ipynb              # –ò—Ç–æ–≥–æ–≤—ã–π –ø–∞–π–ø–ª–∞–π–Ω, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –æ—Ü–µ–Ω–∫–∏ —Å —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–º–∏
‚îú‚îÄ‚îÄ data/                         # –¢–µ–∫—Å—Ç—ã, —Ä–∞–∑–±–∏—Ç—ã–µ –ø–æ —Å—Ç—Ä–∞–Ω–∞–º –∏ –≥–æ—Ä–æ–¥–∞–º
‚îî‚îÄ‚îÄ questions/                    # –≠—Ç–∞–ª–æ–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã –¥–ª—è –æ—Ü–µ–Ω–∫–∏





